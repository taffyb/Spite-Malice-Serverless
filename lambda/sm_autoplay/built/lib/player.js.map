{"version":3,"file":"player.js","sourceRoot":"","sources":["../../src-ts/lib/player.ts"],"names":[],"mappings":"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"}